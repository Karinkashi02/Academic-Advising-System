<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advisor Dashboard - Reports & Analytics</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Blue Theme Colors */
            --blue-primary: #3498db;
            --blue-dark: #2980b9;
            --blue-light: #ebf5fb;
            --blue-border: #d4e6f1;
            --blue-chart-1: #3498db;
            --blue-chart-2: #5dade2;
            --blue-chart-3: #85c1e9;
            --blue-chart-4: #aed6f1;
            
            /* Additional colors */
            --sidebar-bg: #2c3e50;
            --sidebar-text: #ecf0f1;
            --bg-light: #f8f9fa;
            --bg-card: #ffffff;
            --text-dark: #2c3e50;
            --text-light: #7f8c8d;
            --border: #dfe6e9;
            
            /* Action colors */
            --success-green: #27ae60;
            --danger-red: #e74c3c;
            --warning: #f39c12;
            --info-blue: #3498db;
            --purple: #9b59b6;
            
            /* Chart colors */
            --chart-blue: #3498db;
            --chart-green: #2ecc71;
            --chart-orange: #e67e22;
            --chart-red: #e74c3c;
            --chart-purple: #9b59b6;
            --chart-yellow: #f1c40f;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            background-color: var(--bg-light);
            color: var(--text-dark);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 260px;
            background-color: var(--sidebar-bg);
            color: var(--sidebar-text);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.08);
            z-index: 100;
            position: relative;
        }

        .sidebar-header {
            padding: 24px 20px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            z-index: 1;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: #FFFFFF;
            text-align: center;
            line-height: 1.2;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .logo-main {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logo-main span {
            color: var(--blue-primary);
        }

        .sidebar-nav {
            flex: 1;
            padding: 20px 0;
            position: relative;
            z-index: 1;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 14px 20px;
            color: var(--sidebar-text);
            text-decoration: none;
            transition: all 0.2s;
            font-weight: 500;
            border-left: 3px solid transparent;
            font-size: 15px;
        }

        .nav-item:hover {
            background-color: rgba(52, 152, 219, 0.1);
            border-left-color: var(--blue-primary);
        }

        .nav-item.active {
            background-color: rgba(52, 152, 219, 0.2);
            border-left-color: var(--blue-primary);
            color: white;
        }

        .nav-item i {
            margin-right: 12px;
            font-size: 18px;
            width: 24px;
            text-align: center;
        }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 13px;
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            position: relative;
            z-index: 1;
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .header {
            background-color: var(--bg-card);
            padding: 18px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border-bottom: 1px solid var(--border);
        }

        .header h1 {
            font-size: 22px;
            font-weight: 700;
            color: var(--text-dark);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .btn {
            padding: 10px 18px;
            border-radius: 6px;
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: var(--blue-primary);
            color: white;
            border: 1px solid var(--blue-primary);
        }

        .btn-primary:hover {
            background-color: var(--blue-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);
        }

        .btn-secondary {
            background-color: var(--blue-light);
            color: var(--blue-primary);
            border: 1px solid var(--blue-border);
        }

        .btn-secondary:hover {
            background-color: rgba(52, 152, 219, 0.2);
            transform: translateY(-2px);
        }

        .btn-success {
            background-color: var(--success-green);
            color: white;
            border: 1px solid var(--success-green);
        }

        .btn-success:hover {
            background-color: #229954;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(39, 174, 96, 0.3);
        }

        .btn-outline {
            background-color: white;
            color: var(--blue-primary);
            border: 1px solid var(--blue-primary);
            padding: 10px 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-outline.active {
            background-color: var(--blue-primary);
            color: white;
            border-color: var(--blue-primary);
        }

        .btn-outline:hover:not(.active) {
            background-color: rgba(52, 152, 219, 0.1);
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 13px;
        }

        .profile-btn, .logout-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-light);
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
        }

        .profile-btn:hover {
            background: var(--blue-primary);
            color: white;
            border-color: var(--blue-primary);
        }

        .logout-btn {
            background: var(--bg-light);
            color: var(--text-light);
            border-color: var(--border);
        }

        .logout-btn:hover {
            background: var(--blue-light);
            color: var(--blue-primary);
        }

        /* Content Area */
        .content {
            padding: 30px;
            flex: 1;
        }

        /* Stats Cards */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--bg-card);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
            display: flex;
            align-items: center;
            gap: 15px;
            border-top: 4px solid var(--blue-primary);
        }

        .stat-card:nth-child(2) {
            border-top-color: var(--success-green);
        }

        .stat-card:nth-child(3) {
            border-top-color: var(--warning);
        }

        .stat-card:nth-child(4) {
            border-top-color: var(--purple);
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            background-color: rgba(52, 152, 219, 0.1);
            color: var(--blue-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
        }

        .stat-card:nth-child(2) .stat-icon {
            background-color: rgba(39, 174, 96, 0.1);
            color: var(--success-green);
        }

        .stat-card:nth-child(3) .stat-icon {
            background-color: rgba(243, 156, 18, 0.1);
            color: var(--warning);
        }

        .stat-card:nth-child(4) .stat-icon {
            background-color: rgba(155, 89, 182, 0.1);
            color: var(--purple);
        }

        .stat-info h3 {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-dark);
            line-height: 1;
        }

        .stat-info p {
            font-size: 14px;
            color: var(--text-light);
        }

        .stat-change {
            font-size: 12px;
            font-weight: 600;
            margin-top: 5px;
        }

        .stat-change.positive {
            color: var(--success-green);
        }

        .stat-change.negative {
            color: var(--danger-red);
        }

        /* Card and Chart Container */
        .card {
            background: var(--bg-card);
            border-radius: 10px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
            padding: 25px;
            margin-bottom: 30px;
            border-top: 3px solid var(--blue-primary);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        .card-header h2 {
            font-size: 20px;
            font-weight: 700;
            color: var(--blue-primary);
        }

        .btn-group {
            display: flex;
            gap: 0;
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid var(--blue-border);
        }

        .btn-group .btn-outline {
            border-radius: 0;
            border: none;
            border-right: 1px solid var(--blue-border);
        }

        .btn-group .btn-outline:last-child {
            border-right: none;
        }

        /* Chart Container */
        .chart-container {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .chart-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 25px;
        }

        @media (max-width: 1100px) {
            .chart-row {
                grid-template-columns: 1fr;
            }
        }

        .chart-card {
            background: var(--bg-card);
            border-radius: 10px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
            padding: 25px;
            border-top: 3px solid var(--blue-primary);
        }

        .chart-card:nth-child(2) {
            border-top-color: var(--success-green);
        }

        .chart-card:nth-child(3) {
            border-top-color: var(--warning);
        }

        .chart-card:nth-child(4) {
            border-top-color: var(--purple);
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .chart-header {
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin-bottom: 20px;
        }

        .chart-header h3 {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-dark);
        }

        .chart-header p {
            font-size: 14px;
            color: var(--text-light);
        }

        /* Donut Chart */
        .pie-chart-section {
            display: flex;
            gap: 30px;
            align-items: center;
            margin-top: 10px;
        }

        .donut-chart-container {
            position: relative;
            width: 200px;
            height: 200px;
            flex-shrink: 0;
        }

        .donut-chart {
            position: relative;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .donut-base {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            mask: radial-gradient(circle at center, transparent 58%, black 58.5%);
            -webkit-mask: radial-gradient(circle at center, transparent 58%, black 58.5%);
        }

        .donut-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 2;
        }

        .donut-total {
            font-size: 32px;
            font-weight: 700;
            color: var(--text-dark);
            line-height: 1;
        }

        .donut-label {
            font-size: 14px;
            color: var(--text-light);
            margin-top: 5px;
        }

        .chart-legend {
            display: flex;
            flex-direction: column;
            gap: 12px;
            flex: 1;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .legend-item:hover {
            background-color: rgba(52, 152, 219, 0.1);
        }

        .legend-item.active {
            background-color: rgba(52, 152, 219, 0.15);
            border-left: 3px solid var(--blue-primary);
        }

        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 3px;
            flex-shrink: 0;
        }

        .legend-item span {
            font-size: 14px;
            color: var(--text-dark);
        }

        /* Horizontal Bar Chart */
        .horizontal-bar-chart {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }

        .horizontal-bar-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .horizontal-bar-label {
            width: 40px;
            font-weight: 600;
            color: var(--text-dark);
            font-size: 14px;
        }

        .horizontal-bar-wrapper {
            flex: 1;
            height: 30px;
            background-color: var(--blue-light);
            border-radius: 6px;
            overflow: hidden;
        }

        .horizontal-bar {
            height: 100%;
            border-radius: 6px;
            position: relative;
            transition: width 1s ease;
        }

        .horizontal-bar-value {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-weight: 600;
            font-size: 12px;
        }

        .monthly-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border);
        }

        .monthly-stat {
            text-align: center;
        }

        .monthly-stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-dark);
            line-height: 1;
        }

        .monthly-stat-label {
            font-size: 12px;
            color: var(--text-light);
            margin-top: 5px;
            text-transform: uppercase;
            font-weight: 600;
        }

        /* Redesigned Student Status Details */
        .status-details-container {
            margin-top: 10px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .status-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            background: var(--bg-light);
            border-radius: 8px;
            border-left: 4px solid;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .status-item:hover {
            background: var(--blue-light);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .status-item.active {
            background: var(--blue-light);
            border-left-width: 5px;
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.15);
        }

        .status-checkbox {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 2px solid var(--border);
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .status-item.active .status-checkbox {
            background-color: var(--blue-primary);
            border-color: var(--blue-primary);
        }

        .status-item.active .status-checkbox::after {
            content: 'âœ“';
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        .status-info {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .status-name {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 3px;
        }

        .status-count {
            font-size: 13px;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .status-percentage {
            font-size: 15px;
            font-weight: 700;
            color: var(--text-dark);
            min-width: 40px;
            text-align: right;
        }

        /* Color variations for each status */
        .status-deans-list {
            border-left-color: var(--success-green);
        }

        .status-deans-list .status-checkbox {
            border-color: var(--success-green);
        }

        .status-deans-list.active .status-checkbox {
            background-color: var(--success-green);
            border-color: var(--success-green);
        }

        .status-deans-list .status-percentage {
            color: var(--success-green);
        }

        .status-pass {
            border-left-color: var(--blue-primary);
        }

        .status-pass .status-checkbox {
            border-color: var(--blue-primary);
        }

        .status-pass.active .status-checkbox {
            background-color: var(--blue-primary);
            border-color: var(--blue-primary);
        }

        .status-pass .status-percentage {
            color: var(--blue-primary);
        }

        .status-probation {
            border-left-color: var(--warning);
        }

        .status-probation .status-checkbox {
            border-color: var(--warning);
        }

        .status-probation.active .status-checkbox {
            background-color: var(--warning);
            border-color: var(--warning);
        }

        .status-probation .status-percentage {
            color: var(--warning);
        }

        .status-at-risk {
            border-left-color: var(--danger-red);
        }

        .status-at-risk .status-checkbox {
            border-color: var(--danger-red);
        }

        .status-at-risk.active .status-checkbox {
            background-color: var(--danger-red);
            border-color: var(--danger-red);
        }

        .status-at-risk .status-percentage {
            color: var(--danger-red);
        }

        /* Filter Controls */
        .filter-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border);
            gap: 15px;
        }

        .filter-checkbox {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 10px 15px;
            background: var(--bg-light);
            border-radius: 8px;
            transition: all 0.2s;
            flex: 1;
        }

        .filter-checkbox:hover {
            background: var(--blue-light);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .filter-checkbox input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: var(--blue-primary);
        }

        .filter-checkbox label {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-dark);
            cursor: pointer;
            flex: 1;
        }

        .reset-filter-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: var(--blue-light);
            color: var(--blue-primary);
            border: 1px solid var(--blue-border);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
            font-weight: 600;
            white-space: nowrap;
        }

        .reset-filter-btn:hover {
            background: var(--blue-primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);
        }

        /* Table Styles */
        .table-container {
            margin-top: 15px;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background-color: var(--blue-light);
            color: var(--blue-dark);
            font-weight: 600;
            text-align: left;
            padding: 12px 15px;
            border-bottom: 2px solid var(--blue-border);
            font-size: 14px;
        }

        td {
            padding: 12px 15px;
            border-bottom: 1px solid var(--border);
            color: var(--text-dark);
            font-size: 14px;
        }

        tr:hover {
            background-color: rgba(52, 152, 219, 0.05);
        }

        .status-badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-badge-deans-list {
            background-color: rgba(39, 174, 96, 0.1);
            color: var(--success-green);
        }

        .status-badge-pass {
            background-color: rgba(52, 152, 219, 0.1);
            color: var(--blue-primary);
        }

        .status-badge-fail {
            background-color: rgba(231, 76, 60, 0.1);
            color: var(--danger-red);
        }

        .status-badge-pending {
            background-color: rgba(243, 156, 18, 0.1);
            color: var(--warning);
        }

        .works-badge {
            display: inline-block;
            padding: 4px 10px;
            background-color: var(--blue-primary);
            color: white;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            min-width: 30px;
            text-align: center;
        }

        .rank-badge {
            display: inline-block;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: var(--blue-primary);
            color: white;
            text-align: center;
            line-height: 24px;
            font-size: 12px;
            font-weight: 600;
        }

        /* Theme Select Container */
        .theme-select-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .theme-select-label {
            font-size: 14px;
            color: var(--text-dark);
            font-weight: 500;
        }

        .theme-select {
            padding: 8px 12px;
            border: 1px solid var(--border);
            border-radius: 6px;
            background-color: white;
            color: var(--text-dark);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
        }

        .top-contributors-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--border);
        }

        .contributor-stat {
            text-align: center;
        }

        .contributor-stat-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-dark);
            line-height: 1;
        }

        .contributor-stat-label {
            font-size: 12px;
            color: var(--text-light);
            margin-top: 5px;
            text-transform: uppercase;
            font-weight: 600;
        }

        /* Search Box */
        .search-box {
            padding: 10px 15px;
            border: 1px solid var(--border);
            border-radius: 6px;
            width: 250px;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
        }

        .search-box:focus {
            outline: none;
            border-color: var(--blue-primary);
        }

        /* View All Link */
        .view-all-link {
            text-align: right;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--border);
        }

        .view-all-link a {
            color: var(--blue-primary);
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
        }

        .view-all-link a:hover {
            text-decoration: underline;
        }

        /* Pagination Styles */
        .pagination-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid var(--border);
        }

        .pagination-info {
            font-size: 14px;
            color: var(--text-light);
        }

        .pagination-controls {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .pagination-btn {
            background-color: var(--blue-light);
            color: var(--blue-primary);
            border: 1px solid var(--blue-border);
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 13px;
            font-weight: 500;
        }

        .pagination-btn:hover:not(:disabled) {
            background-color: var(--blue-primary);
            color: white;
            border-color: var(--blue-primary);
        }

        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pagination-numbers {
            display: flex;
            gap: 4px;
        }

        .page-number {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            background-color: var(--blue-light);
            color: var(--blue-primary);
            border: 1px solid var(--blue-border);
            cursor: pointer;
            transition: all 0.2s;
            font-size: 13px;
            font-weight: 500;
        }

        .page-number:hover:not(.active) {
            background-color: rgba(52, 152, 219, 0.2);
        }

        .page-number.active {
            background-color: var(--blue-primary);
            color: white;
            border-color: var(--blue-primary);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 20px;
            color: var(--text-light);
            font-size: 13px;
            background: var(--bg-light);
            margin-top: auto;
            border-top: 1px solid var(--border);
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .sidebar {
                width: 70px;
            }
            
            .sidebar .logo-main span,
            .sidebar .nav-item span {
                display: none;
            }
            
            .logo-main {
                flex-direction: column;
                gap: 0;
            }
            
            .sidebar .nav-item {
                justify-content: center;
                padding: 18px 0;
            }
            
            .sidebar .nav-item i {
                margin-right: 0;
                font-size: 20px;
            }
            
            .header h1 {
                font-size: 18px;
            }
            
            .chart-row {
                grid-template-columns: 1fr;
            }
            
            .pie-chart-section {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .donut-chart-container {
                align-self: center;
            }
        }

        @media (max-width: 768px) {
            .header {
                padding: 15px 20px;
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .header-actions {
                align-self: flex-end;
                width: 100%;
                justify-content: space-between;
            }
            
            .content {
                padding: 20px;
            }
            
            .stats {
                grid-template-columns: 1fr 1fr;
            }
            
            .card-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .btn-group {
                width: 100%;
            }
            
            .btn-group .btn-outline {
                flex: 1;
                text-align: center;
            }
            
            .search-box {
                width: 100%;
            }
            
            .pagination-container {
                flex-direction: column;
                gap: 15px;
                align-items: stretch;
            }
            
            .pagination-controls {
                justify-content: center;
            }
            
            /* Responsive adjustments for status items */
            .status-item {
                padding: 10px 12px;
            }
            
            .status-checkbox {
                width: 18px;
                height: 18px;
                margin-right: 12px;
            }
            
            .status-name {
                font-size: 14px;
            }
            
            .status-count {
                font-size: 12px;
            }
            
            .status-percentage {
                font-size: 14px;
            }
            
            .filter-controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .filter-checkbox, .reset-filter-btn {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .stats {
                grid-template-columns: 1fr;
            }
            
            .btn {
                padding: 8px 12px;
                font-size: 13px;
            }
            
            .monthly-stats,
            .top-contributors-stats {
                flex-direction: column;
                gap: 15px;
            }
            
            .pagination-numbers {
                display: none;
            }
            
            .status-info {
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }
            
            .status-name {
                margin-bottom: 0;
            }
            
            .status-count {
                display: none;
            }
            
            .status-percentage {
                margin-left: 10px;
            }
            
            .filter-controls {
                padding-top: 15px;
                margin-top: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-main">
                        <i class="fas fa-chart-line"></i>
                        <span>Advise</span>.
                    </div>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <a href="#" class="nav-item">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-users"></i>
                    <span>My Students</span>
                </a>
                <a href="#" class="nav-item">
                    <i class="fas fa-calendar-check"></i>
                    <span>Advising Sessions</span>
                </a>
                <a href="report_page.html" class="nav-item active">
                    <i class="fas fa-chart-bar"></i>
                    <span>Reports & Analytics</span>
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <p>Â© 2025 Advising System</p>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <header class="header">
                <h1>Reports & Analytics Dashboard</h1>
                <div class="header-actions">
                    <button class="btn btn-primary" id="exportReportBtn">
                        <i class="fas fa-download"></i> Export Report
                    </button>
                    <button class="btn btn-secondary" id="printReportBtn">
                        <i class="fas fa-print"></i> Print
                    </button>
                    <div class="profile-btn" title="Advisor Profile">ðŸ‘¤</div>
                    <div class="logout-btn" title="Logout">ðŸšª</div>
                </div>
            </header>
            
            <!-- Content Area -->
            <div class="content">
                <!-- Stats Cards -->
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalStudents">24</h3>
                            <p>Total Advisees</p>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i> 12% from last year
                            </div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="graduationRate">89%</h3>
                            <p>Projected Graduation Rate</p>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i> 4% from last year
                            </div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="sessionsCompleted">47</h3>
                            <p>Sessions This Year</p>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i> 18% from last year
                            </div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="avgCGPA">3.42</h3>
                            <p>Average CGPA</p>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i> 0.15 from last year
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Report Card -->
                <div class="card">
                    <div class="card-header">
                        <h2>Report Detail</h2>
                        <div class="btn-group" role="group" aria-label="Report type selector">
                            <button type="button" class="btn-outline active" id="studentReportBtn">
                                Student Analytics
                            </button>
                            <button type="button" class="btn-outline" id="sessionReportBtn">
                                Session Analytics
                            </button>
                        </div>
                    </div>
                    
                    <!-- Student Analytics (Initially Visible) -->
                    <div id="studentAnalytics">
                        <div class="chart-container">
                            <!-- First Row: Academic Status Distribution + Monthly Sessions -->
                            <div class="chart-row">
                                <!-- Academic Status Distribution (Donut Chart) -->
                                <div class="chart-card">
                                    <div class="chart-header">
                                        <h3>Academic Status Distribution</h3>
                                        <p>Distribution of 24 students across academic statuses</p>
                                    </div>
                                    <div class="pie-chart-section">
                                        <div class="donut-chart-container">
                                            <div class="donut-chart" id="academicDonutChart">
                                                <!-- Donut chart segments will be generated by JavaScript -->
                                                <div class="donut-center">
                                                    <div class="donut-total">24</div>
                                                    <div class="donut-label">Total Students</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chart-legend" id="academicLegend">
                                            <!-- Legend will be generated by JavaScript -->
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Monthly Advising Sessions (Horizontal Bar Chart) -->
                                <div class="chart-card">
                                    <div class="chart-header">
                                        <h3>Monthly Advising Sessions</h3>
                                        <p>Sessions conducted in the last 6 months</p>
                                    </div>
                                    <div class="horizontal-bar-chart" id="monthlySessionsChart">
                                        <!-- Horizontal bar chart will be generated by JavaScript -->
                                    </div>
                                    <div class="monthly-stats">
                                        <div class="monthly-stat">
                                            <div class="monthly-stat-value" id="totalLast6Months">47</div>
                                            <div class="monthly-stat-label">Last 6 Months</div>
                                        </div>
                                        <div class="monthly-stat">
                                            <div class="monthly-stat-value" id="avgPerMonth">7.8</div>
                                            <div class="monthly-stat-label">Avg/Month</div>
                                        </div>
                                        <div class="monthly-stat">
                                            <div class="monthly-stat-value" id="growthRate">+18%</div>
                                            <div class="monthly-stat-label">Growth</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Second Row: Redesigned Student Status Details + Top Students by Major -->
                            <div class="chart-row">
                                <!-- Redesigned Student Status Details -->
                                <div class="chart-card">
                                    <div class="chart-header">
                                        <h3>Student Status Details</h3>
                                        <p>Number of students per academic status with percentages</p>
                                    </div>
                                    <div class="status-details-container" id="statusDetailsContainer">
                                        <!-- Dean's List Item -->
                                        <div class="status-item status-deans-list" data-status="Dean's List">
                                            <div class="status-checkbox"></div>
                                            <div class="status-info">
                                                <div class="status-name">Dean's List</div>
                                                <div class="status-count">8 students</div>
                                            </div>
                                            <div class="status-percentage">33%</div>
                                        </div>
                                        
                                        <!-- Pass Item -->
                                        <div class="status-item status-pass" data-status="Pass">
                                            <div class="status-checkbox"></div>
                                            <div class="status-info">
                                                <div class="status-name">Pass</div>
                                                <div class="status-count">14 students</div>
                                            </div>
                                            <div class="status-percentage">58%</div>
                                        </div>
                                        
                                        <!-- Probation Item -->
                                        <div class="status-item status-probation" data-status="Probation">
                                            <div class="status-checkbox"></div>
                                            <div class="status-info">
                                                <div class="status-name">Probation</div>
                                                <div class="status-count">1 student</div>
                                            </div>
                                            <div class="status-percentage">4%</div>
                                        </div>
                                        
                                        <!-- At Risk Item -->
                                        <div class="status-item status-at-risk" data-status="At Risk">
                                            <div class="status-checkbox"></div>
                                            <div class="status-info">
                                                <div class="status-name">At Risk</div>
                                                <div class="status-count">1 student</div>
                                            </div>
                                            <div class="status-percentage">4%</div>
                                        </div>
                                    </div>
                                    
                                    <!-- Filter Controls -->
                                    <div class="filter-controls">
                                        <div class="filter-checkbox" id="allStudentsFilter">
                                            <input type="checkbox" id="allStudentsCheckbox">
                                            <label for="allStudentsCheckbox">All Students</label>
                                        </div>
                                        <button class="reset-filter-btn" id="resetFilterBtn">
                                            <i class="fas fa-redo"></i> Reset Filter
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="chart-card">
                                    <div class="chart-header">
                                        <h3>Top Students by Major</h3>
                                        <p>Top 5 students for selected major</p>
                                    </div>
                                    <div class="theme-select-container">
                                        <div class="theme-select-label">Select Major:</div>
                                        <select class="theme-select" id="majorSelect">
                                            <option value="Computer Science">Computer Science</option>
                                            <option value="Data Science">Data Science</option>
                                            <option value="Software Engineering">Software Engineering</option>
                                            <option value="Information Systems">Information Systems</option>
                                            <option value="Cybersecurity">Cybersecurity</option>
                                            <option value="Artificial Intelligence">Artificial Intelligence</option>
                                        </select>
                                    </div>
                                    <div class="table-container">
                                        <table class="table" id="majorStudentsTable">
                                            <thead>
                                                <tr>
                                                    <th>Rank</th>
                                                    <th>Name</th>
                                                    <th>CGPA</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody id="majorStudentsTableBody">
                                                <!-- Top students for selected major will be populated by JavaScript -->
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="top-contributors-stats">
                                        <div class="contributor-stat">
                                            <div class="contributor-stat-value" id="totalMajorStudents">12</div>
                                            <div class="contributor-stat-label">Total Students</div>
                                        </div>
                                        <div class="contributor-stat">
                                            <div class="contributor-stat-value" id="avgMajorCGPA">3.6</div>
                                            <div class="contributor-stat-label">Avg CGPA</div>
                                        </div>
                                        <div class="contributor-stat">
                                            <div class="contributor-stat-value" id="topMajorCGPA">3.95</div>
                                            <div class="contributor-stat-label">Top CGPA</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Session Analytics (Initially Hidden) -->
                    <div id="sessionAnalytics" style="display: none;">
                        <div class="chart-container">
                            <!-- Third Row: Session Types + Pending Sessions -->
                            <div class="chart-row">
                                <!-- Session Types Distribution -->
                                <div class="chart-card">
                                    <div class="chart-header">
                                        <h3>Session Types Distribution</h3>
                                        <p>Distribution of 47 sessions by type</p>
                                    </div>
                                    <div class="pie-chart-section">
                                        <div class="donut-chart-container">
                                            <div class="donut-chart" id="sessionDonutChart">
                                                <!-- Donut chart segments will be generated by JavaScript -->
                                                <div class="donut-center">
                                                    <div class="donut-total">47</div>
                                                    <div class="donut-label">Total Sessions</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chart-legend" id="sessionLegend">
                                            <!-- Legend will be generated by JavaScript -->
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Pending Sessions -->
                                <div class="chart-card">
                                    <div class="chart-header">
                                        <h3>Pending Sessions</h3>
                                        <p>Upcoming sessions requiring attention</p>
                                    </div>
                                    <div class="table-container">
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th>No.</th>
                                                    <th>Student</th>
                                                    <th>Type</th>
                                                    <th>Scheduled</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>1</td>
                                                    <td><strong>James Martinez</strong></td>
                                                    <td>Academic Advising</td>
                                                    <td>Tomorrow, 10:00 AM</td>
                                                    <td><span class="status-badge status-badge-pending">Pending</span></td>
                                                </tr>
                                                <tr>
                                                    <td>2</td>
                                                    <td><strong>Robert Brown</strong></td>
                                                    <td>Career Counseling</td>
                                                    <td>Nov 5, 2023</td>
                                                    <td><span class="status-badge status-badge-pending">Pending</span></td>
                                                </tr>
                                                <tr>
                                                    <td>3</td>
                                                    <td><strong>Michael Chen</strong></td>
                                                    <td>Graduation Planning</td>
                                                    <td>Nov 12, 2023</td>
                                                    <td><span class="status-badge status-badge-pending">Pending</span></td>
                                                </tr>
                                                <tr>
                                                    <td>4</td>
                                                    <td><strong>Thomas Anderson</strong></td>
                                                    <td>Academic Advising</td>
                                                    <td>Nov 15, 2023</td>
                                                    <td><span class="status-badge status-badge-pending">Pending</span></td>
                                                </tr>
                                                <tr>
                                                    <td>5</td>
                                                    <td><strong>Jennifer Lee</strong></td>
                                                    <td>Career Counseling</td>
                                                    <td>Nov 20, 2023</td>
                                                    <td><span class="status-badge status-badge-pending">Pending</span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="view-all-link">
                                        <a href="#">View all upcoming sessions â†’</a>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Fourth Row: Student Performance Table (Full Width) -->
                            <div class="chart-row">
                                <div class="chart-card full-width">
                                    <div class="chart-header">
                                        <h2>Student Performance Overview</h2>
                                        <div style="display: flex; gap: 15px; align-items: center;">
                                            <input type="text" class="search-box" placeholder="Search students..." id="studentSearchInput">
                                            <button class="btn btn-small btn-primary" id="refreshTable">
                                                <i class="fas fa-sync-alt"></i> Refresh
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div class="table-container">
                                        <table class="table table-striped" id="performanceTable">
                                            <thead>
                                                <tr>
                                                    <th>Student Name</th>
                                                    <th>Major</th>
                                                    <th>Year</th>
                                                    <th>Current CGPA</th>
                                                    <th>Status</th>
                                                    <th>Last Session</th>
                                                    <th>Next Due</th>
                                                </tr>
                                            </thead>
                                            <tbody id="performanceTableBody">
                                                <!-- Table rows will be populated by JavaScript -->
                                            </tbody>
                                        </table>
                                    </div>
                                    
                                    <!-- Pagination Controls -->
                                    <div class="pagination-container" id="paginationContainer">
                                        <div class="pagination-info" id="paginationInfo">
                                            Showing <span id="startRecord">1</span> to <span id="endRecord">8</span> of <span id="totalRecords">24</span> students
                                        </div>
                                        <div class="pagination-controls">
                                            <button class="pagination-btn" id="prevPageBtn" disabled>
                                                <i class="fas fa-chevron-left"></i> Previous
                                            </button>
                                            <div class="pagination-numbers" id="pageNumbers">
                                                <!-- Page numbers will be generated by JavaScript -->
                                            </div>
                                            <button class="pagination-btn" id="nextPageBtn">
                                                Next <i class="fas fa-chevron-right"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <footer>
                Â© 2025 Advising System â€” University Academic Services | Report Generated: <span id="reportDate"></span>
            </footer>
        </div>
    </div>

    <script>
        // Sample student data for reports
        const studentData = [
            { id: "S10023", name: "Sarah Johnson", major: "Computer Science", year: "Senior", cgpa: "3.72", status: "Dean's List", lastSession: "Oct 10, 2023", nextDue: "Nov 15, 2023" },
            { id: "S10024", name: "Michael Chen", major: "Data Science", year: "Junior", cgpa: "3.48", status: "Pass", lastSession: "Sep 28, 2023", nextDue: "Nov 5, 2023" },
            { id: "S10025", name: "David Wilson", major: "Software Engineering", year: "Sophomore", cgpa: "3.95", status: "Dean's List", lastSession: "Oct 5, 2023", nextDue: "Nov 12, 2023" },
            { id: "S10026", name: "Emily Davis", major: "Information Systems", year: "Senior", cgpa: "3.88", status: "Dean's List", lastSession: "Oct 12, 2023", nextDue: "Nov 20, 2023" },
            { id: "S10027", name: "Robert Brown", major: "Cybersecurity", year: "Junior", cgpa: "2.85", status: "Probation", lastSession: "Sep 15, 2023", nextDue: "Oct 30, 2023" },
            { id: "S10028", name: "Olivia Taylor", major: "Artificial Intelligence", year: "Senior", cgpa: "3.91", status: "Dean's List", lastSession: "Oct 18, 2023", nextDue: "Nov 25, 2023" },
            { id: "S10029", name: "James Martinez", major: "Computer Science", year: "Freshman", cgpa: "2.45", status: "At Risk", lastSession: "Oct 3, 2023", nextDue: "Oct 31, 2023" },
            { id: "S10030", name: "Jennifer Lee", major: "Data Science", year: "Sophomore", cgpa: "3.65", status: "Pass", lastSession: "Oct 8, 2023", nextDue: "Nov 10, 2023" },
            { id: "S10031", name: "Thomas Anderson", major: "Software Engineering", year: "Junior", cgpa: "3.22", status: "Pass", lastSession: "Sep 20, 2023", nextDue: "Oct 28, 2023" },
            { id: "S10032", name: "Lisa Wang", major: "Computer Science", year: "Senior", cgpa: "3.78", status: "Dean's List", lastSession: "Oct 22, 2023", nextDue: "Nov 28, 2023" },
            { id: "S10033", name: "Brian Wilson", major: "Data Science", year: "Sophomore", cgpa: "3.15", status: "Pass", lastSession: "Sep 25, 2023", nextDue: "Nov 3, 2023" },
            { id: "S10034", name: "Karen Smith", major: "Information Systems", year: "Junior", cgpa: "3.42", status: "Pass", lastSession: "Oct 14, 2023", nextDue: "Nov 18, 2023" },
            { id: "S10035", name: "Alex Johnson", major: "Computer Science", year: "Junior", cgpa: "3.55", status: "Pass", lastSession: "Oct 16, 2023", nextDue: "Nov 22, 2023" },
            { id: "S10036", name: "Maria Garcia", major: "Data Science", year: "Senior", cgpa: "3.88", status: "Dean's List", lastSession: "Oct 20, 2023", nextDue: "Nov 26, 2023" },
            { id: "S10037", name: "Daniel Kim", major: "Software Engineering", year: "Sophomore", cgpa: "3.25", status: "Pass", lastSession: "Sep 30, 2023", nextDue: "Nov 5, 2023" },
            { id: "S10038", name: "Sophia Patel", major: "Information Systems", year: "Junior", cgpa: "3.67", status: "Pass", lastSession: "Oct 17, 2023", nextDue: "Nov 23, 2023" },
            { id: "S10039", name: "Kevin Wilson", major: "Cybersecurity", year: "Senior", cgpa: "3.92", status: "Dean's List", lastSession: "Oct 19, 2023", nextDue: "Nov 25, 2023" },
            { id: "S10040", name: "Emma Thompson", major: "Artificial Intelligence", year: "Junior", cgpa: "3.48", status: "Pass", lastSession: "Oct 21, 2023", nextDue: "Nov 27, 2023" },
            { id: "S10041", name: "Ryan Lee", major: "Computer Science", year: "Sophomore", cgpa: "3.15", status: "Pass", lastSession: "Sep 28, 2023", nextDue: "Nov 3, 2023" },
            { id: "S10042", name: "Chloe Martinez", major: "Data Science", year: "Senior", cgpa: "3.82", status: "Dean's List", lastSession: "Oct 23, 2023", nextDue: "Nov 29, 2023" },
            { id: "S10043", name: "Jacob Brown", major: "Software Engineering", year: "Freshman", cgpa: "2.95", status: "Pass", lastSession: "Oct 5, 2023", nextDue: "Nov 10, 2023" },
            { id: "S10044", name: "Isabella Clark", major: "Information Systems", year: "Junior", cgpa: "3.33", status: "Pass", lastSession: "Oct 24, 2023", nextDue: "Nov 30, 2023" },
            { id: "S10045", name: "Ethan Wright", major: "Cybersecurity", year: "Senior", cgpa: "3.76", status: "Dean's List", lastSession: "Oct 25, 2023", nextDue: "Dec 1, 2023" },
            { id: "S10046", name: "Mia Davis", major: "Artificial Intelligence", year: "Sophomore", cgpa: "3.61", status: "Pass", lastSession: "Oct 26, 2023", nextDue: "Dec 2, 2023" }
        ];

        // Academic status data for donut chart
        const academicStatusData = [
            { name: "Dean's List", value: 8, color: "#27ae60" },
            { name: "Pass", value: 14, color: "#3498db" },
            { name: "Probation", value: 1, color: "#f39c12" },
            { name: "At Risk", value: 1, color: "#e74c3c" }
        ];

        // Monthly sessions data
        const monthlySessionsData = [
            { month: 'May', value: 5, color: '#3498db' },
            { month: 'Jun', value: 6, color: '#2ecc71' },
            { month: 'Jul', value: 4, color: '#e67e22' },
            { month: 'Aug', value: 8, color: '#9b59b6' },
            { month: 'Sep', value: 10, color: '#1abc9c' },
            { month: 'Oct', value: 14, color: '#e74c3c' }
        ];

        // Session type data
        const sessionTypeData = [
            { name: "Academic Advising", value: 24, color: "#3498db" },
            { name: "Career Counseling", value: 12, color: "#2ecc71" },
            { name: "Graduation Planning", value: 8, color: "#e67e22" },
            { name: "Personal Development", value: 3, color: "#9b59b6" }
        ];

        // Pagination variables
        let currentPage = 1;
        const recordsPerPage = 8;
        let filteredStudentData = [...studentData];
        let currentStatusFilter = null;

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Set report date
            const today = new Date();
            const formattedDate = today.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                weekday: 'long'
            });
            document.getElementById('reportDate').textContent = formattedDate;
            
            // Initialize charts and tables
            initializeCharts();
            
            // Initialize pagination
            initializePagination();
            
            // Add event listeners
            document.getElementById('exportReportBtn').addEventListener('click', exportReport);
            document.getElementById('printReportBtn').addEventListener('click', printReport);
            document.getElementById('refreshTable').addEventListener('click', refreshTable);
            document.getElementById('studentSearchInput').addEventListener('input', filterStudents);
            
            // Report type switcher
            document.getElementById('studentReportBtn').addEventListener('click', function() {
                document.getElementById('studentReportBtn').classList.add('active');
                document.getElementById('sessionReportBtn').classList.remove('active');
                document.getElementById('studentAnalytics').style.display = 'block';
                document.getElementById('sessionAnalytics').style.display = 'none';
            });
            
            document.getElementById('sessionReportBtn').addEventListener('click', function() {
                document.getElementById('sessionReportBtn').classList.add('active');
                document.getElementById('studentReportBtn').classList.remove('active');
                document.getElementById('studentAnalytics').style.display = 'none';
                document.getElementById('sessionAnalytics').style.display = 'block';
            });
            
            // Major select functionality
            document.getElementById('majorSelect').addEventListener('change', function() {
                const major = this.value;
                updateMajorStudentsTable(major, currentStatusFilter);
            });
            
            // Setup redesigned status detail interactivity
            setupStatusDetailInteractivity();
            
            // Initialize with Computer Science as default
            updateMajorStudentsTable('Computer Science');
            
            // Set Dean's List as active by default
            setTimeout(() => {
                setActiveStatus("Dean's List");
            }, 100);
            
            // Filter controls
            document.getElementById('allStudentsCheckbox').addEventListener('change', function() {
                if (this.checked) {
                    // Show all students
                    resetAllFilters();
                    this.checked = false;
                }
            });
            
            document.getElementById('resetFilterBtn').addEventListener('click', function() {
                resetAllFilters();
            });
            
            // Header action buttons
            document.querySelector('.profile-btn').addEventListener('click', function() {
                alert("Advisor profile page would open here.");
            });
            
            document.querySelector('.logout-btn').addEventListener('click', function() {
                if (confirm("Are you sure you want to logout?")) {
                    alert("You have been logged out.");
                }
            });
            
            // Add animation to monthly bars on load
            setTimeout(() => {
                const monthlyBars = document.querySelectorAll('#monthlySessionsChart .horizontal-bar');
                monthlyBars.forEach((bar, index) => {
                    const originalWidth = bar.style.width;
                    bar.style.width = '0%';
                    
                    setTimeout(() => {
                        bar.style.transition = 'width 1s ease';
                        bar.style.width = originalWidth;
                    }, index * 150);
                });
            }, 500);
            
            // Pagination button event listeners
            document.getElementById('prevPageBtn').addEventListener('click', goToPrevPage);
            document.getElementById('nextPageBtn').addEventListener('click', goToNextPage);
        });

        // Initialize all charts
        function initializeCharts() {
            createDonutChart('academicDonutChart', academicStatusData);
            createMonthlyBarChart('monthlySessionsChart', monthlySessionsData);
            createAcademicLegend('academicLegend', academicStatusData);
            createDonutChart('sessionDonutChart', sessionTypeData);
            createSessionLegend('sessionLegend', sessionTypeData);
            updateMonthlyStats();
        }

        // Initialize pagination
        function initializePagination() {
            updatePagination();
            renderPerformanceTablePage();
        }

        // Update pagination controls
        function updatePagination() {
            const totalRecords = filteredStudentData.length;
            const totalPages = Math.ceil(totalRecords / recordsPerPage);
            
            // Update pagination info
            const startRecord = (currentPage - 1) * recordsPerPage + 1;
            const endRecord = Math.min(currentPage * recordsPerPage, totalRecords);
            
            document.getElementById('startRecord').textContent = startRecord;
            document.getElementById('endRecord').textContent = endRecord;
            document.getElementById('totalRecords').textContent = totalRecords;
            
            // Update pagination buttons
            document.getElementById('prevPageBtn').disabled = currentPage === 1;
            document.getElementById('nextPageBtn').disabled = currentPage === totalPages;
            
            // Update page numbers
            const pageNumbersContainer = document.getElementById('pageNumbers');
            pageNumbersContainer.innerHTML = '';
            
            // Always show first page
            addPageNumber(1, pageNumbersContainer);
            
            // Calculate range of pages to show
            let startPage = Math.max(2, currentPage - 1);
            let endPage = Math.min(totalPages - 1, currentPage + 1);
            
            // Add ellipsis if needed
            if (startPage > 2) {
                pageNumbersContainer.innerHTML += '<span class="page-number">...</span>';
            }
            
            // Add middle pages
            for (let i = startPage; i <= endPage; i++) {
                addPageNumber(i, pageNumbersContainer);
            }
            
            // Add ellipsis if needed
            if (endPage < totalPages - 1) {
                pageNumbersContainer.innerHTML += '<span class="page-number">...</span>';
            }
            
            // Always show last page if there is more than 1 page
            if (totalPages > 1) {
                addPageNumber(totalPages, pageNumbersContainer);
            }
        }

        // Add page number button
        function addPageNumber(pageNumber, container) {
            const pageNumberElement = document.createElement('span');
            pageNumberElement.className = 'page-number';
            if (pageNumber === currentPage) {
                pageNumberElement.classList.add('active');
            }
            pageNumberElement.textContent = pageNumber;
            pageNumberElement.addEventListener('click', () => goToPage(pageNumber));
            container.appendChild(pageNumberElement);
        }

        // Go to specific page
        function goToPage(pageNumber) {
            currentPage = pageNumber;
            renderPerformanceTablePage();
            updatePagination();
        }

        // Go to previous page
        function goToPrevPage() {
            if (currentPage > 1) {
                currentPage--;
                renderPerformanceTablePage();
                updatePagination();
            }
        }

        // Go to next page
        function goToNextPage() {
            const totalPages = Math.ceil(filteredStudentData.length / recordsPerPage);
            if (currentPage < totalPages) {
                currentPage++;
                renderPerformanceTablePage();
                updatePagination();
            }
        }

        // Render current page of performance table
        function renderPerformanceTablePage() {
            const startIndex = (currentPage - 1) * recordsPerPage;
            const endIndex = startIndex + recordsPerPage;
            const pageData = filteredStudentData.slice(startIndex, endIndex);
            
            populatePerformanceTable(pageData);
        }

        // Setup interactivity for redesigned status detail items
        function setupStatusDetailInteractivity() {
            const statusItems = document.querySelectorAll('.status-item');
            
            statusItems.forEach(item => {
                const statusName = item.getAttribute('data-status');
                
                item.addEventListener('click', function() {
                    // Toggle active status
                    if (this.classList.contains('active')) {
                        // If already active, deactivate it
                        setActiveStatus(null);
                        currentStatusFilter = null;
                    } else {
                        // Set active status
                        setActiveStatus(statusName);
                        currentStatusFilter = statusName;
                    }
                    
                    // Highlight donut segment
                    if (currentStatusFilter) {
                        highlightDonutSegment(statusName, 'academicDonutChart');
                    } else {
                        resetDonutHighlight('academicDonutChart');
                    }
                    
                    // Update major students table to show students with this status
                    const currentMajor = document.getElementById('majorSelect').value;
                    updateMajorStudentsTable(currentMajor, currentStatusFilter);
                });
                
                item.addEventListener('mouseenter', function() {
                    const statusName = this.getAttribute('data-status');
                    highlightDonutSegment(statusName, 'academicDonutChart');
                    highlightLegendItem(statusName);
                });
                
                item.addEventListener('mouseleave', function() {
                    const statusName = this.getAttribute('data-status');
                    const activeItem = document.querySelector('.status-item.active');
                    
                    if (!activeItem || activeItem.getAttribute('data-status') !== statusName) {
                        resetDonutHighlight('academicDonutChart');
                        resetLegendHighlight();
                    }
                });
            });
        }

        // Set active status for redesigned items
        function setActiveStatus(statusName) {
            // Remove active class from all status items
            document.querySelectorAll('.status-item').forEach(item => {
                item.classList.remove('active');
            });
            
            document.querySelectorAll('.legend-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Add active class to selected status if provided
            if (statusName) {
                document.querySelectorAll(`.status-item[data-status="${statusName}"]`).forEach(item => {
                    item.classList.add('active');
                });
                
                document.querySelectorAll(`.legend-item[data-status="${statusName}"]`).forEach(item => {
                    item.classList.add('active');
                });
            }
        }

        // Reset all filters
        function resetAllFilters() {
            // Reset status filter
            setActiveStatus(null);
            currentStatusFilter = null;
            resetDonutHighlight('academicDonutChart');
            resetLegendHighlight();
            
            // Reset search
            document.getElementById('studentSearchInput').value = '';
            
            // Reset filtered data to all students
            filteredStudentData = [...studentData];
            currentPage = 1;
            
            // Update tables
            renderPerformanceTablePage();
            updatePagination();
            
            const currentMajor = document.getElementById('majorSelect').value;
            updateMajorStudentsTable(currentMajor, null);
            
            // Uncheck "All Students" checkbox
            document.getElementById('allStudentsCheckbox').checked = false;
            
            // Show success message
            showNotification("All filters have been reset");
        }

        // Show notification
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.backgroundColor = 'var(--success-green)';
            notification.style.color = 'white';
            notification.style.padding = '12px 20px';
            notification.style.borderRadius = '8px';
            notification.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.15)';
            notification.style.zIndex = '1000';
            notification.style.fontWeight = '600';
            notification.style.fontSize = '14px';
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Remove notification after 3 seconds
            setTimeout(() => {
                notification.style.transition = 'opacity 0.3s ease';
                notification.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Create donut chart
        function createDonutChart(containerId, data) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            // Clear any existing segments
            const existingSegments = container.querySelectorAll('.donut-base');
            existingSegments.forEach(segment => segment.remove());
            
            // Calculate total
            const total = data.reduce((sum, item) => sum + item.value, 0);
            
            // Build the conic gradient
            let currentPercent = 0;
            let conicGradient = 'conic-gradient(';
            
            data.forEach((item, index) => {
                const percent = (item.value / total) * 100;
                const start = currentPercent;
                const end = currentPercent + percent;
                
                conicGradient += `${item.color} ${start}% ${end}%`;
                if (index < data.length - 1) {
                    conicGradient += ', ';
                }
                
                currentPercent = end;
            });
            
            conicGradient += ')';
            
            // Create the donut element
            const donutElement = document.createElement('div');
            donutElement.className = 'donut-base';
            donutElement.style.position = 'absolute';
            donutElement.style.top = '0';
            donutElement.style.left = '0';
            donutElement.style.width = '100%';
            donutElement.style.height = '100%';
            donutElement.style.borderRadius = '50%';
            donutElement.style.background = conicGradient;
            donutElement.style.mask = 'radial-gradient(circle at center, transparent 58%, black 58.5%)';
            donutElement.style.webkitMask = 'radial-gradient(circle at center, transparent 58%, black 58.5%)';
            donutElement.style.transition = 'filter 0.3s ease, transform 0.3s ease';
            
            container.appendChild(donutElement);
            
            // Store data for hover effects
            container.setAttribute('data-chart-data', JSON.stringify(data));
        }

        // Highlight a specific segment in the donut chart
        function highlightDonutSegment(segmentName, chartId) {
            const container = document.getElementById(chartId);
            const donutElement = container.querySelector('.donut-base');
            const chartData = JSON.parse(container.getAttribute('data-chart-data'));
            const dataItem = chartData.find(item => item.name === segmentName);
            
            if (donutElement && dataItem) {
                // Apply a glowing effect to the segment
                donutElement.style.filter = 'brightness(1.05) drop-shadow(0 0 8px rgba(0, 0, 0, 0.2))';
                
                // Create a highlight overlay for the specific segment
                const highlight = document.createElement('div');
                highlight.className = 'donut-highlight';
                highlight.style.position = 'absolute';
                highlight.style.top = '0';
                highlight.style.left = '0';
                highlight.style.width = '100%';
                highlight.style.height = '100%';
                highlight.style.borderRadius = '50%';
                highlight.style.background = `conic-gradient(from 0deg, ${dataItem.color} 0% 100%)`;
                highlight.style.mask = 'radial-gradient(circle at center, transparent 58%, black 58.5%)';
                highlight.style.webkitMask = 'radial-gradient(circle at center, transparent 58%, black 58.5%)';
                highlight.style.opacity = '0.2';
                highlight.style.zIndex = '1';
                highlight.style.pointerEvents = 'none';
                
                // Remove existing highlight
                const existingHighlight = container.querySelector('.donut-highlight');
                if (existingHighlight) {
                    existingHighlight.remove();
                }
                
                container.appendChild(highlight);
            }
        }

        // Highlight legend item
        function highlightLegendItem(statusName) {
            const legendItems = document.querySelectorAll('.legend-item');
            legendItems.forEach(item => {
                if (item.getAttribute('data-status') === statusName) {
                    item.style.background = 'rgba(52, 152, 219, 0.1)';
                    item.style.borderColor = 'rgba(52, 152, 219, 0.2)';
                }
            });
        }

        // Reset donut chart highlight
        function resetDonutHighlight(chartId) {
            const container = document.getElementById(chartId);
            const donutElement = container.querySelector('.donut-base');
            const highlight = container.querySelector('.donut-highlight');
            
            if (donutElement) {
                donutElement.style.filter = '';
            }
            
            if (highlight) {
                highlight.remove();
            }
        }

        // Reset legend highlight
        function resetLegendHighlight() {
            const legendItems = document.querySelectorAll('.legend-item');
            legendItems.forEach(item => {
                if (!item.classList.contains('active')) {
                    item.style.background = '';
                    item.style.borderColor = 'transparent';
                }
            });
        }

        // Create monthly bar chart (horizontal)
        function createMonthlyBarChart(containerId, data) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            container.innerHTML = '';
            
            // Find max value for scaling
            const maxValue = Math.max(...data.map(item => item.value));
            
            data.forEach(item => {
                const barWidth = (item.value / maxValue) * 100;
                
                const barContainer = document.createElement('div');
                barContainer.className = 'horizontal-bar-container';
                
                const barLabel = document.createElement('div');
                barLabel.className = 'horizontal-bar-label';
                barLabel.textContent = item.month;
                
                const barWrapper = document.createElement('div');
                barWrapper.className = 'horizontal-bar-wrapper';
                
                const bar = document.createElement('div');
                bar.className = 'horizontal-bar';
                bar.style.width = `${barWidth}%`;
                bar.style.backgroundColor = item.color;
                
                const barValue = document.createElement('div');
                barValue.className = 'horizontal-bar-value';
                barValue.textContent = item.value;
                
                bar.appendChild(barValue);
                barWrapper.appendChild(bar);
                barContainer.appendChild(barLabel);
                barContainer.appendChild(barWrapper);
                container.appendChild(barContainer);
            });
        }

        // Create academic status legend
        function createAcademicLegend(containerId, data) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            container.innerHTML = '';
            
            data.forEach(item => {
                const percentage = Math.round((item.value / 24) * 100);
                
                const legendItem = document.createElement('div');
                legendItem.className = 'legend-item';
                legendItem.setAttribute('data-status', item.name);
                
                const colorBox = document.createElement('div');
                colorBox.className = 'legend-color';
                colorBox.style.backgroundColor = item.color;
                
                const label = document.createElement('span');
                label.textContent = `${item.name} (${percentage}%)`;
                
                legendItem.appendChild(colorBox);
                legendItem.appendChild(label);
                container.appendChild(legendItem);
                
                // Add click event to legend items
                legendItem.addEventListener('click', function() {
                    const statusName = this.getAttribute('data-status');
                    
                    // Toggle active status
                    if (this.classList.contains('active')) {
                        setActiveStatus(null);
                        currentStatusFilter = null;
                        resetDonutHighlight('academicDonutChart');
                    } else {
                        setActiveStatus(statusName);
                        currentStatusFilter = statusName;
                        highlightDonutSegment(statusName, 'academicDonutChart');
                    }
                    
                    // Update major students table to show students with this status
                    const currentMajor = document.getElementById('majorSelect').value;
                    updateMajorStudentsTable(currentMajor, currentStatusFilter);
                });
                
                // Add hover events to legend
                legendItem.addEventListener('mouseenter', function() {
                    const statusName = this.getAttribute('data-status');
                    highlightDonutSegment(statusName, 'academicDonutChart');
                    
                    // Highlight corresponding status item
                    document.querySelectorAll(`.status-item[data-status="${statusName}"]`).forEach(item => {
                        item.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.1)';
                    });
                });
                
                legendItem.addEventListener('mouseleave', function() {
                    const statusName = this.getAttribute('data-status');
                    const activeItem = document.querySelector('.status-item.active');
                    
                    // Only reset if no item is active or this isn't the active status
                    if (!activeItem || activeItem.getAttribute('data-status') !== statusName) {
                        resetDonutHighlight('academicDonutChart');
                        
                        // Reset status item shadows
                        document.querySelectorAll(`.status-item[data-status="${statusName}"]`).forEach(item => {
                            if (!item.classList.contains('active')) {
                                item.style.boxShadow = '';
                            }
                        });
                    }
                });
            });
        }

        // Create session type legend
        function createSessionLegend(containerId, data) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            container.innerHTML = '';
            
            data.forEach(item => {
                const percentage = Math.round((item.value / 47) * 100);
                
                const legendItem = document.createElement('div');
                legendItem.className = 'legend-item';
                legendItem.setAttribute('data-session-type', item.name);
                
                const colorBox = document.createElement('div');
                colorBox.className = 'legend-color';
                colorBox.style.backgroundColor = item.color;
                
                const label = document.createElement('span');
                label.textContent = `${item.name} (${percentage}%)`;
                
                legendItem.appendChild(colorBox);
                legendItem.appendChild(label);
                container.appendChild(legendItem);
            });
        }

        // Update monthly statistics
        function updateMonthlyStats() {
            const total = monthlySessionsData.reduce((sum, item) => sum + item.value, 0);
            const avg = (total / monthlySessionsData.length).toFixed(1);
            
            document.getElementById('totalLast6Months').textContent = total;
            document.getElementById('avgPerMonth').textContent = avg;
        }

        // Populate performance table
        function populatePerformanceTable(data) {
            const tableBody = document.getElementById('performanceTableBody');
            tableBody.innerHTML = '';
            
            data.forEach(student => {
                const row = document.createElement('tr');
                
                // Determine status badge class
                let statusClass = 'status-badge-pass';
                if (student.status === "Dean's List") {
                    statusClass = 'status-badge-deans-list';
                } else if (student.status === "At Risk") {
                    statusClass = 'status-badge-fail';
                } else if (student.status === "Probation") {
                    statusClass = 'status-badge-fail';
                }
                
                row.innerHTML = `
                    <td><strong>${student.name}</strong></td>
                    <td>${student.major}</td>
                    <td>${student.year}</td>
                    <td><strong>${student.cgpa}</strong></td>
                    <td><span class="status-badge ${statusClass}">${student.status}</span></td>
                    <td>${student.lastSession}</td>
                    <td>${student.nextDue}</td>
                `;
                
                tableBody.appendChild(row);
            });
        }

        // Update major students table
        function updateMajorStudentsTable(major, statusFilter = null) {
            // Get students in this major
            let majorStudents = studentData
                .filter(student => student.major === major);
            
            // Apply status filter if provided
            if (statusFilter) {
                majorStudents = majorStudents.filter(student => student.status === statusFilter);
            }
            
            // Sort by CGPA (highest first)
            majorStudents.sort((a, b) => parseFloat(b.cgpa) - parseFloat(a.cgpa));
            
            // Take top 5
            const topStudents = majorStudents.slice(0, 5);
            
            // Update table
            const tableBody = document.getElementById('majorStudentsTableBody');
            tableBody.innerHTML = '';
            
            if (topStudents.length === 0) {
                const row = document.createElement('tr');
                const filterText = statusFilter ? ` with status "${statusFilter}"` : '';
                row.innerHTML = `
                    <td colspan="4" style="text-align: center; color: var(--text-light); padding: 30px;">
                        No students found in ${major}${filterText}
                    </td>
                `;
                tableBody.appendChild(row);
            } else {
                topStudents.forEach((student, index) => {
                    const row = document.createElement('tr');
                    
                    // Determine status badge class
                    let statusClass = 'status-badge-pass';
                    if (student.status === "Dean's List") {
                        statusClass = 'status-badge-deans-list';
                    } else if (student.status === "At Risk") {
                        statusClass = 'status-badge-fail';
                    } else if (student.status === "Probation") {
                        statusClass = 'status-badge-fail';
                    }
                    
                    row.innerHTML = `
                        <td>
                            <span class="rank-badge">${index + 1}</span>
                        </td>
                        <td style="font-weight: 600;">${student.name}</td>
                        <td><strong>${student.cgpa}</strong></td>
                        <td><span class="status-badge ${statusClass}">${student.status}</span></td>
                    `;
                    
                    tableBody.appendChild(row);
                });
            }
            
            // Update stats
            const totalMajorStudents = studentData.filter(s => s.major === major).length;
            const majorCGPAValues = studentData
                .filter(s => s.major === major)
                .map(s => parseFloat(s.cgpa));
            const avgMajorCGPA = majorCGPAValues.length > 0 
                ? (majorCGPAValues.reduce((a, b) => a + b, 0) / majorCGPAValues.length).toFixed(2)
                : "0.00";
            const topMajorCGPA = majorCGPAValues.length > 0 
                ? Math.max(...majorCGPAValues).toFixed(2)
                : "0.00";
            
            document.getElementById('totalMajorStudents').textContent = totalMajorStudents;
            document.getElementById('avgMajorCGPA').textContent = avgMajorCGPA;
            document.getElementById('topMajorCGPA').textContent = topMajorCGPA;
        }

        // Filter students based on search input
        function filterStudents() {
            const searchTerm = document.getElementById('studentSearchInput').value.toLowerCase();
            filteredStudentData = studentData.filter(student => 
                student.name.toLowerCase().includes(searchTerm) ||
                student.major.toLowerCase().includes(searchTerm) ||
                student.status.toLowerCase().includes(searchTerm)
            );
            
            // Reset to first page when filtering
            currentPage = 1;
            renderPerformanceTablePage();
            updatePagination();
        }

        // Export report function
        function exportReport() {
            alert("Report exported successfully! This would download a PDF/Excel file in a real application.");
            // In a real app, this would generate and download a PDF/Excel report
        }

        // Print report function
        function printReport() {
            window.print();
        }

        // Refresh table function
        function refreshTable() {
            // Show loading state
            const refreshBtn = document.getElementById('refreshTable');
            const originalHTML = refreshBtn.innerHTML;
            refreshBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Refreshing...';
            refreshBtn.disabled = true;
            
            // Simulate API call delay
            setTimeout(() => {
                // Reset filtered data to all students
                filteredStudentData = [...studentData];
                currentPage = 1;
                document.getElementById('studentSearchInput').value = '';
                
                // Refresh the table with updated data
                renderPerformanceTablePage();
                updatePagination();
                
                // Restore button
                refreshBtn.innerHTML = originalHTML;
                refreshBtn.disabled = false;
                
                // Show success message
                showNotification("Table data refreshed successfully!");
            }, 1000);
        }
    </script>
</body>
</html>